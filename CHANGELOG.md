# История изменений

Все значимые изменения в проекте будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [1.1.0] - 2025-10-12

### Добавлено

#### Раздел "Книги"
- Модель `Book` - полная информация о книгах (обложка, PDF, издательская информация, цена)
- Модель `BookOrder` - система заказов с расчетом стоимости
- Страница `/books/` - каталог книг с фильтрацией по году
- Страница `/books/<slug>/` - детальная страница с **встроенным PDF-просмотром**
- Страница `/order-book/` - форма заказа книг
- Email уведомления при заказе книг
- Админ-панель для управления книгами и заказами
- Секция избранных книг на главной странице
- Sitemap для книг

#### WYSIWYG редактор (CKEditor)
- Интеграция `django-ckeditor` для богатого текстового редактирования
- `RichTextUploadingField` для поля `content` в BlogPost
- `RichTextUploadingField` для поля `description` в Book
- Панель инструментов: форматирование, списки, ссылки, изображения, таблицы, код
- Возможность загрузки изображений прямо в редакторе
- Кастомная конфигурация CKEditor с полным набором инструментов

#### Дополнительные улучшения
- Context processor для автоматической передачи профиля во все шаблоны
- Custom template filter `split_tags` для обработки тегов
- Обработчики кастомных 404 и 500 страниц
- Красивые страницы ошибок
- Management command `populate_demo_data` - создание 3 книг с HTML контентом
- Обновленный контент для статей блога с HTML форматированием
- Автоматические тесты (21 тест)
- Скрипт быстрого запуска `start.sh`

### Изменено

- Админ-панель упрощена и реструктурирована
- BlogPost использует WYSIWYG вместо обычного TextField
- Группировка полей в админке с collapse секциями
- Улучшено отображение списков в админке
- Обновлен `populate_demo_data` - теперь создает книги и статьи с HTML
- Навигация обновлена - добавлена ссылка на "Книги"
- Footer обновлен со ссылками на все разделы
- Шаблон `blog_detail.html` использует `|safe` для HTML контента

### Исправлено

- Проблема с template filter для разделения тегов
- Ошибки в тестах со статическими файлами
- Корректное отображение тегов и ключевых слов

## [1.0.0] - 2025-10-12

### Добавлено

#### Основные функции
- Главная страница с hero-секцией и обзором услуг
- Страница "О социологе" с биографией и достижениями
- Страница услуг с детальным описанием
- Портфолио с проектами и исследованиями
- Страница публикаций с фильтрацией и поиском
- Блог для публикации статей
- Контактная страница с формой обратной связи
- Форма заказа услуг

#### Модели данных
- Profile - профиль социолога
- Service - услуги
- Publication - научные публикации
- Project - проекты и исследования
- BlogPost - статьи блога
- ServiceOrder - заказы услуг
- Achievement - достижения и награды
- Testimonial - отзывы клиентов
- ContactMessage - сообщения из контактной формы

#### Админ-панель
- Полная настройка Django Admin для всех моделей
- Кастомизация отображения списков и форм
- Фильтры, поиск, inline редактирование
- Управление заказами услуг

#### Дизайн
- Адаптивный дизайн на Bootstrap 5
- Современный профессиональный интерфейс
- Анимации и эффекты наведения
- Иконки Font Awesome
- Кастомные стили CSS

#### SEO
- Мета-теги для всех страниц
- Автоматическая генерация sitemap.xml
- robots.txt
- Schema.org разметка (базовая)
- Open Graph теги

#### Функциональность
- Email уведомления при заказе услуг
- Email уведомления из контактной формы
- Счетчик просмотров для статей блога
- Пагинация для списков
- Фильтрация и поиск публикаций
- Фильтрация проектов по статусу
- Back to Top кнопка

#### Деплой
- Конфигурация для cPanel/Passenger
- passenger_wsgi.py
- .htaccess с настройками Apache
- Поддержка PostgreSQL и MySQL
- Whitenoise для статических файлов

#### Документация
- README.md с полным описанием проекта
- DEPLOYMENT.md с инструкцией по деплою
- CONTRIBUTING.md для разработчиков
- CHANGELOG.md для истории изменений

### Безопасность
- CSRF защита
- XSS защита
- SQL injection защита через Django ORM
- Валидация форм на клиенте и сервере
- Настройки безопасности для production

---

## [Unreleased] - Будущие обновления

### Планируется

- Многоязычность (русский/английский)
- Система комментариев для блога
- RSS feed
- Интеграция с социальными сетями
- Улучшенная система поиска по всему сайту
- Экспорт публикаций в BibTeX, RIS форматы
- Статистика посещений
- Newsletter подписка
- Раздел "Медиа" с фото и видео
- Календарь событий
- Онлайн-бронирование консультаций

---

Формат версий: [MAJOR.MINOR.PATCH]
- MAJOR: Несовместимые изменения API
- MINOR: Новая функциональность с обратной совместимостью
- PATCH: Исправления ошибок с обратной совместимостью

